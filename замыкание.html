
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script>

/*
Замыкание – это функция, которая запоминает свои внешние переменные и может получить к ним доступ.
В некоторых языках это невозможно, или функция должна быть написана специальным образом, чтобы получилось замыкание.
Но, как было описано выше, в JavaScript, все функции изначально являются замыканиями
(есть только одно исключение, про которое будет рассказано в Синтаксис "new Function").

То есть, они автоматически запоминают, где были созданы, с помощью скрытого свойства [[Environment]]
и все они могут получить доступ к внешним переменным.

Когда на собеседовании фронтенд-разработчик получает вопрос: «что такое замыкание?», –
правильным ответом будет определение замыкания и объяснения того факта, что все функции в JavaScript
являются замыканиями, и, может быть, несколько слов о технических деталях: свойстве [[Environment]] и о том,
как работает лексическое окружение.
___________________________________
В JavaScript у каждой выполняемой функции, блока кода и скрипта есть связанный с ними внутренний (скрытый) объект,
называемый лексическим окружением LexicalEnvironment.
____________________________
Объект лексического окружения состоит из двух частей:

Environment Record – объект, в котором как свойства хранятся все локальные переменные (а также некоторая другая
информация, такая как значение this).

Ссылка на внешнее лексическое окружение – то есть то, которое соответствует коду снаружи
(снаружи от текущих фигурных скобок).
_____________________________________
"Переменная" – это просто свойство специального внутреннего объекта: Environment Record. «Получить или изменить
переменную», означает, «получить или изменить свойство этого объекта».
__________________________________
Когда код хочет получить доступ к переменной – сначала происходит поиск во внутреннем лексическом окружении,
затем во внешнем, затем в следующем и так далее, до глобального.
____________________________________
Все функции «при рождении» получают скрытое свойство [[Environment]],
которое ссылается на лексическое окружение места, где они были созданы.

Лексическое окружение создаётся при выполнении блока кода и содержит локальные переменные для этого блока. (if)
For, while - Для цикла у каждой итерации своё отдельное лексическое окружение.
Из-за того, что у блока есть собственное лексическое окружение, код снаружи него (или в другом скрипте) не видит
переменные этого блока. (Мы также можем использовать «простые» блоки кода {...})


*/



</script>
<body>

</body>
</html>